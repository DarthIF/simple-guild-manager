import"../chunks/NZTpNUN0.js";import{s as U,o as nt}from"../chunks/COFgZT5k.js";import{b as L,r as p,s as f,u,o as W,a as m,p as lt,q as dt,v as y,w as F,x,f as G,y as T,z as M,c as ct}from"../chunks/Ddq0lHKC.js";import{p as X,i as J}from"../chunks/BTJ2ew-y.js";import{C as Y,a as Z,b as tt,T as D,B as et,c as at,d as rt}from"../chunks/VzJu8u_A.js";import{i as ut,a as mt,b as vt,c as pt}from"../chunks/BO5eUM9i.js";function ft(e){const a=JSON.parse(e);return a.data&&(a.data=vt(a.data,pt.decoders)),a}function z(e){return HTMLElement.prototype.cloneNode.call(e)}function st(e,a=()=>{}){const b=async({action:t,result:s,reset:n=!0,invalidateAll:o=!0})=>{s.type==="success"&&(n&&HTMLFormElement.prototype.reset.call(e),o&&await ut()),(location.origin+location.pathname===t.origin+t.pathname||s.type==="redirect"||s.type==="error")&&await mt(s)};async function h(t){if((t.submitter?.hasAttribute("formmethod")?t.submitter.formMethod:z(e).method)!=="post")return;t.preventDefault();const n=new URL(t.submitter?.hasAttribute("formaction")?t.submitter.formAction:z(e).action),o=t.submitter?.hasAttribute("formenctype")?t.submitter.formEnctype:z(e).enctype,c=new FormData(e),k=t.submitter?.getAttribute("name");k&&c.append(k,t.submitter?.getAttribute("value")??"");const S=new AbortController;let O=!1;const $=await a({action:n,cancel:()=>O=!0,controller:S,formData:c,formElement:e,submitter:t.submitter})??b;if(O)return;let v;try{const l=new Headers({accept:"application/json","x-sveltekit-action":"true"});o!=="multipart/form-data"&&l.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(o)?o:"application/x-www-form-urlencoded");const R=o==="multipart/form-data"?c:new URLSearchParams(c),d=await fetch(n,{method:"POST",headers:l,cache:"no-store",body:R,signal:S.signal});v=ft(await d.text()),v.type==="error"&&(v.status=d.status)}catch(l){if(l?.name==="AbortError")return;v={type:"error",error:l}}await $({action:n,formData:c,formElement:e,update:l=>b({action:n,result:v,reset:l?.reset,invalidateAll:l?.invalidateAll}),result:v})}return HTMLFormElement.prototype.addEventListener.call(e,"submit",h),{destroy(){HTMLFormElement.prototype.removeEventListener.call(e,"submit",h)}}}var ht=L('<div class="error svelte-1hjx0be"><h1 class="svelte-1hjx0be"> </h1> <h2 class="svelte-1hjx0be"> </h2></div>');function bt(e,a){let b=X(a,"code",3,404),h=X(a,"message",3,"This is not the page you are looking for.");var t=ht(),s=p(t),n=p(s,!0);f(s);var o=u(s,2),c=p(o,!0);f(o),f(t),W(()=>{U(n,b()),U(c,h())}),m(e,t)}var _t=L('<div class="card-header svelte-1769kxa"><!> <div class="card-title svelte-1769kxa">Join us today</div> <div>Already have an account? <a href="#login">Login</a></div></div> <form action="?/register" method="POST" class="svelte-1769kxa"><!> <!> <!> </form>',1),$t=L('<a href="#register">Sing Up</a>'),gt=L(`<div class="card-header svelte-1769kxa"><!> <div class="card-title svelte-1769kxa">Welcome Back</div> <div>Don't have an account yet? <!></div></div> <form action="?/login" method="POST" class="svelte-1769kxa"><!> <!> <!> </form>`,1),yt=L('<main class="svelte-1769kxa"><!></main>');function kt(e,a){lt(a,!0);function b(){location.hash==="#login"?x(o,h):location.hash==="#register"&&x(o,t)}nt(()=>{window.addEventListener("hashchange",b),b()});const h=1,t=2;let s=F(""),n=F(""),o=F(h);var c=yt(),k=p(c);{var S=_=>{Y(_,{class:"card-login",children:($,v)=>{Z($,{children:(l,R)=>{var d=_t(),w=G(d),K=p(w);tt(K,{class:"material-symbols-rounded card-icon",children:(i,j)=>{T();var P=M("security");m(i,P)},$$slots:{default:!0}}),T(4),f(w);var E=u(w,2),H=p(E);D(H,{input$id:"username",input$name:"username",required:!0,variant:"outlined",label:"User",type:"text",get value(){return y(s)},set value(i){x(s,i,!0)}});var A=u(H,2);D(A,{input$id:"password",input$name:"password",required:!0,variant:"outlined",label:"Password",type:"password",get value(){return y(n)},set value(i){x(n,i,!0)}});var g=u(A,2);et(g,{type:"submit",children:(i,j)=>{at(i,{children:(P,C)=>{T();var I=M("Register");m(P,I)},$$slots:{default:!0}})},$$slots:{default:!0}});var N=u(g);f(E),rt(E,i=>st?.(i)),W(i=>U(N,` ${i??""}`),[()=>JSON.stringify(a.form)]),m(l,d)},$$slots:{default:!0}})},$$slots:{default:!0}})},O=_=>{var $=ct(),v=G($);{var l=d=>{Y(d,{class:"card-login",children:(w,K)=>{Z(w,{children:(E,H)=>{var A=gt(),g=G(A),N=p(g);tt(N,{class:"material-symbols-rounded card-icon",children:(r,q)=>{T();var B=M("security");m(r,B)},$$slots:{default:!0}});var i=u(N,4),j=u(p(i));{var P=r=>{var q=$t();m(r,q)};J(j,r=>{a.data.ENABLE_USER_REGISTRATION&&r(P)})}f(i),f(g);var C=u(g,2),I=p(C);D(I,{input$id:"username",input$name:"username",required:!0,variant:"outlined",label:"User",type:"text",get value(){return y(s)},set value(r){x(s,r,!0)}});var Q=u(I,2);D(Q,{input$id:"password",input$name:"password",required:!0,variant:"outlined",label:"Password",type:"password",get value(){return y(n)},set value(r){x(n,r,!0)}});var V=u(Q,2);et(V,{type:"submit",children:(r,q)=>{at(r,{children:(B,xt)=>{T();var it=M("Login");m(B,it)},$$slots:{default:!0}})},$$slots:{default:!0}});var ot=u(V);f(C),rt(C,r=>st?.(r)),W(r=>U(ot,` ${r??""}`),[()=>JSON.stringify(a.form)]),m(E,A)},$$slots:{default:!0}})},$$slots:{default:!0}})},R=d=>{bt(d,{code:"500",message:"Internal server error."})};J(v,d=>{y(o)===h?d(l):d(R,!1)},!0)}m(_,$)};J(k,_=>{y(o)===t&&a.data.ENABLE_USER_REGISTRATION?_(S):_(O,!1)})}f(c),m(e,c),dt()}export{kt as component};
